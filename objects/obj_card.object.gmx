<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_card_back</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>type = "null";
flipped = true; //Set the cards to show = true
cardFade = false; //Made card disapear if match found
alarm[1] = room_speed * global.set_preview_time ; //wait 2 seconds and then run alarm 1
gotoscore = false;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto(GameFinished);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> flipped = false; //set cards to show = false (show ?)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with (global.match [0,1])
{
    flipped = false; //flip the card back over
}
with (global.match [1,1])
{
    flipped = false;
}

global.selectionNumber = 0; //reset

global.match[0,0] = "null"; //Array of cards
global.match[0,1] = 999;
global.match[1,0] = "null"
global.match[1,1] = 999;
                
global.can_select = true;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (cardFade == true)
 {
    image_alpha-=0.05
 }

if (image_alpha &lt;=0)
 {
    instance_destroy();
 }
 

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (global.can_select == true)
{

                       

    if (flipped == false)
    {
        flipped = true;
        
        global.selectionNumber++; // increment selection number
        
        
        global.match[global.selectionNumber-1,0] = type;
        global.match[global.selectionNumber-1,1] = id;
        
        if(global.selectionNumber == 2)
        {
        
            global.can_select = false;
            global.flipAttempts++; //increment flip attempts
            
            
           
            
            if (global.match[0,0] == global.match[1,0]) //Match has been found
            {
                cardFade = true; //If the card matches, fade FIRST selected card
                with (global.match[0,1])
                {
                    cardFade = true; //If the card matches, fade the SECOND selected card
                    flipped = true;
                }
                global.selectionNumber = 0; //reset the selection number

                global.match[0,0] = "null"; //Array of cards
                global.match[0,1] = 999;
                global.match[1,0] = "null"
                global.match[1,1] = 999;
                
                global.can_select = true; //User can now select cards
                
                global.Allfound++;//+1 to all found
                global.flipAttemptsRemaining--;//-1 from remianing pairs
                
            }
            
            
            else
            {
                alarm[0] = room_speed * 0.8; //if it's not a match, show card from room speed x 0.8 seconds
                
            }//else
            
            
        }//if
    }//if
    

}//if

if (global.Allfound == 5 )
{

                 alarm[2] = room_speed * 0.8;
                 room_goto(GameFinished);
   
}


//Flip bonus calculation - Easy

if (global.flipAttempts == 5)
{
    global.flipBonus = 500;
}
else if (global.flipAttempts ==6)
{
    global.flipBonus = 490;
}
else if (global.flipAttempts ==7)
{
    global.flipBonus = 470;
}
else if (global.flipAttempts ==8)
{
    global.flipBonus = 440;
}
else if (global.flipAttempts ==9)
{
    global.flipBonus = 400;
}
else if (global.flipAttempts ==10)
{
    global.flipBonus = 350;
}
else if (global.flipAttempts &gt;10 &amp;&amp; global.flipAttempts &lt;=15)
{
    global.flipBonus = 300;
}
else if (global.flipAttempts &gt;15 &amp;&amp; global.flipAttempts &lt;=20)
{
    global.flipBonus = 100;
}
else if (global.flipAttempts &gt;20)
{
    global.flipBonus = 0;
}


//Time bonus - Easy
if (global.minutes &lt;= 0 &amp;&amp; global.seconds &lt;=10)
{
    global.timeBonus = 500;
}
else if (global.minutes &lt;= 0 &amp;&amp; global.seconds &gt;10 &amp;&amp; global.seconds &lt;=15)
{
    global.timeBonus = 400;
}
else if (global.minutes &lt;= 0 &amp;&amp; global.seconds &gt;15 &amp;&amp; global.seconds &lt;=20 )
{
    global.timeBonus = 300;
}
else if (global.minutes &lt;= 0 &amp;&amp; global.seconds &gt;25 &amp;&amp; global.seconds &lt;=30 )
{
    global.timeBonus = 200;
}
else if (global.minutes &gt; 0 || global.seconds &gt;30)
{
    global.timeBonus = 100;
}




//Total score

global.totalScore = global.timeBonus+global.flipBonus+global.previewBonus;

score = global.totalScore;








</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (flipped ==true)
{
    switch(type)
    {
        case "C1":
            sprite = spr_card_1;
        break ;
        
        case "C2":
            sprite = spr_card_2;
        break ;
        
        case "C3":
            sprite = spr_card_3;
        break ;
        
        case "C4":
            sprite = spr_card_4;
        break ;
        
        case "C5":
            sprite = spr_card_5;
        break ;
    
    }//switch
}//if

else
{
    sprite = spr_card_back; //show background
}

draw_sprite(sprite, 0, x, y);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>114,114</point>
  </PhysicsShapePoints>
</object>
